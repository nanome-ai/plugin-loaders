(function(t){function e(e){for(var r,a,s=e[0],c=e[1],u=e[2],p=0,f=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0117":function(t,e,n){"use strict";var r=n("812f"),i=n.n(r);i.a},1140:function(t,e,n){"use strict";var r=n("fe45"),i=n.n(r);i.a},1146:function(t,e,n){},"1e7f":function(t,e,n){"use strict";var r=n("1146"),i=n.n(r);i.a},"21bb":function(t,e,n){"use strict";var r=n("7a98"),i=n.n(r);i.a},"30db":function(t,e,n){"use strict";var r=n("caf9"),i=n.n(r);i.a},5258:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d"),n("def6");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-screen h-screen",attrs:{id:"app"}},[n("router-view")],1)},o=[],a=(n("5c0b"),n("2877")),s={},c=Object(a["a"])(s,i,o,!1,null,null,null),u=c.exports,l=(n("a481"),n("8c4f")),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home min-h-full container m-auto bg-white flex flex-col"},[t._m(0),n("p",{staticClass:"text-lg pt-2 pb-4"},[t._v("\n    Drag and drop or click the new file button to upload files."),n("br"),t._v("\n    Supports "),n("b",[t._v(t._s(t.extensions.join(" ")))])]),n("div",{staticClass:"text-left"},[n("div",{staticClass:"text-lg text-left px-4 py-2 ml-4 rounded bg-gray-200 inline"},[t.$store.state.name?[t._v("\n        Welcome "),n("b",[t._v(t._s(t.$store.state.name)+"!")]),t._v("Â \n        "),n("a",{staticClass:"link text-red-500",on:{click:function(e){return t.$store.dispatch("logout")}}},[t._v("log out")])]:[t._v("\n        Welcome!\n        "),n("a",{staticClass:"link text-blue-500",on:{click:function(e){return t.$modal.login()}}},[t._v("log in")])]],2)]),n("file-explorer")],1)},f=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"pt-10 mx-auto"},[r("h1",{staticClass:"inline-flex items-baseline"},[r("img",{staticClass:"mr-4",attrs:{src:n("cf05")}}),t._v(" Vault\n    ")]),r("h2",[t._v("Upload files to make them available in Nanome!")])])}],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file-explorer flex flex-col m-4 bg-gray-100 rounded flex-grow"},[n("div",{staticClass:"mx-4 mt-4 border-b"},[n("toolbar",{on:{"display-mode":function(e){t.displayMode=e},"new-folder":t.newFolder,"show-upload":t.showDropzone}}),n("breadcrumbs",{attrs:{path:t.path}})],1),n("div",{staticClass:"flex-grow relative select-none px-4",on:{contextmenu:function(e){return e.preventDefault(),t.showContextMenu({event:e,path:t.path})}}},["grid"===t.displayMode?n("file-view-grid",{attrs:{path:t.path}}):n("file-view-list",{attrs:{path:t.path}}),n("file-dropzone",{ref:"dropzone",attrs:{path:t.path},on:{upload:t.refresh}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.contextmenu.show,expression:"contextmenu.show"},{name:"click-out",rawName:"v-click-out",value:t.hideContextMenu,expression:"hideContextMenu"}],staticClass:"contextmenu",style:{top:t.contextmenu.top,left:t.contextmenu.left}},[n("ul",[t.contextmenu.isFolder?n("li",[n("button",{staticClass:"text-gray-800",on:{click:function(e){return t.newFolder(t.contextmenu.path)}}},[n("fa-icon",{attrs:{icon:"folder-plus"}}),t._v("\n          new folder\n        ")],1)]):n("li",[n("button",{staticClass:"text-gray-800",on:{click:function(e){return t.download(t.contextmenu.path)}}},[n("fa-icon",{attrs:{icon:"file-download"}}),t._v("\n          download\n        ")],1)]),t.contextmenu.deletable?n("li",[n("button",{staticClass:"text-red-500",on:{click:t.deleteItem}},[n("fa-icon",{attrs:{icon:"trash"}}),t._v("\n          delete\n        ")],1)]):t._e()])])])},h=[],m=(n("6762"),n("2fdb"),n("96cf"),n("3b8d")),v=(n("ac4d"),n("8a81"),n("ac6a"),n("768b")),g=(n("7f7f"),n("2f62"));r["a"].use(g["a"]);var x={token:localStorage.getItem("user-token")||null,unique:null,name:null},b={PATCH_USER:function(t,e){Object.assign(t,e)}};function w(t,e){return y.apply(this,arguments)}function y(){return y=Object(m["a"])(regeneratorRuntime.mark((function t(e,n){var r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=n.success,i=n.results,!r){t.next=15;break}return o={unique:i.user.unique,name:i.user.name,token:i.token.value},e("PATCH_USER",o),localStorage.setItem("user-token",i.token.value),t.prev=5,t.next=8,P.create("/"+i.user.unique);case 8:t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](5);case 12:return t.abrupt("return",!0);case 15:return localStorage.removeItem("user-token"),t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t,null,[[5,10]])}))),y.apply(this,arguments)}var k={login:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e,n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,P.login(n);case 3:return i=t.sent,t.abrupt("return",w(r,i));case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),refresh:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,P.refresh();case 3:return r=t.sent,t.abrupt("return",w(n,r));case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),logout:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,n("PATCH_USER",{token:null,name:null,unique:null}),localStorage.removeItem("user-token");case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},C=new g["a"].Store({state:x,mutations:b,actions:k}),_="https://api.nanome.ai/user";function O(t){return t.replace(/^\/account/,"/"+C.state.unique)}function j(t,e){return fetch(t,e).then((function(t){return t.json()}))}var $,D,E={login:function(t){var e=t.username,n=t.password,r={login:e,pass:n,source:"web:webloader-plugin"};return j("".concat(_,"/login"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)})},refresh:function(){var t=C.state.token;return t?j("".concat(_,"/session"),{headers:{Authorization:"Bearer ".concat(t)},method:"GET"}):{}},list:function(t){return"/"===t?{success:!0,files:[],folders:["shared"]}:(t=O(t),j("/files"+t))},getFolder:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={path:"",parent:"",files:[],folders:[]},"/"!==e.slice(-1)&&(e+="/"),"/"!==e&&(r=e.slice(0,-1).lastIndexOf("/"),n.parent=e.substring(0,r)+"/"),t.next=5,E.list(e);case 5:if(i=t.sent,i.success){t.next=8;break}throw new Error(i.error);case 8:return n.path=e,n.folders=i.folders,n.files=i.files.map((function(t){var e=/^(.+?)(?:\.(\w+))?$/.exec(t),n=Object(v["a"])(e,3),r=n[0],i=n[1],o=n[2];return{full:r,name:i,ext:o}})),t.abrupt("return",n);case 12:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),upload:function(t,e){if(e&&e.length){var n=new FormData,r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;n.append("file",c)}}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return t=O(t),j("/files"+t,{method:"POST",body:n})}},delete:function(t){return t=O(t),j("/files"+t,{method:"DELETE"})},create:function(t){return t=O(t),j("/files"+t,{method:"POST"})}},P=E,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"breadcrumbs flex text-xl py-3 items-center"},[n("router-link",{staticClass:"btn rounded mr-2",attrs:{to:t.parentPath,event:t.parentPath?"click":"",tabindex:t.parentPath?"":-1,disabled:!t.parentPath,tag:"button"}},[n("fa-icon",{attrs:{icon:"arrow-up"}})],1),t._l(t.subpaths.slice(0,-1),(function(e){var r=e.name,i=e.path;return n("div",{key:i},[n("router-link",{staticClass:"px-3",attrs:{to:i}},[t._v(t._s(r))]),n("fa-icon",{attrs:{icon:"angle-right"}})],1)})),n("div",{staticClass:"text-gray-600 px-3"},[t._v(t._s(t.currentName))])],2)},S=[],T=(n("28a5"),{props:{path:String},computed:{subpaths:function(){var t=this.path.slice(0,-1).split("/"),e=[],n="",r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;n+=c+"/",c||(c="files"),e.push({name:c,path:n})}}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e},currentName:function(){return this.subpaths[this.subpaths.length-1].name},parentPath:function(){if("/"==this.path)return"";var t=this.path.slice(0,-1).lastIndexOf("/");return this.path.slice(0,t)+"/"}}}),L=T,F=(n("e7ab"),Object(a["a"])(L,R,S,!1,null,null,null)),z=F.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbar flex text-lg items-center"},[n("div",{staticClass:"toggle relative mr-2 flex"},[n("input",{attrs:{checked:"",value:"grid",type:"radio",name:"display-mode",id:"display-mode-grid"},on:{input:function(e){return t.$emit("display-mode",e.target.value)}}}),n("label",{staticClass:"btn rounded-l",attrs:{for:"display-mode-grid"}},[n("fa-icon",{attrs:{icon:"th"}})],1),n("input",{attrs:{value:"list",type:"radio",name:"display-mode",id:"display-mode-list"},on:{input:function(e){return t.$emit("display-mode",e.target.value)}}}),n("label",{staticClass:"btn rounded-r",attrs:{for:"display-mode-list"}},[n("fa-icon",{attrs:{icon:"bars"}})],1)]),n("button",{staticClass:"btn rounded mr-2",on:{click:function(e){return t.$emit("new-folder")}}},[n("fa-layers",[n("fa-icon",{attrs:{icon:"folder"}}),n("fa-icon",{staticClass:"text-white",attrs:{icon:"plus",transform:"down-1 shrink-10"}})],1),n("span",{staticClass:"hidden lg:inline"},[t._v(" new folder")])],1),n("button",{staticClass:"btn rounded",on:{click:function(e){return t.$emit("show-upload")}}},[n("fa-icon",{attrs:{icon:"cloud-upload-alt"}}),n("span",{staticClass:"hidden lg:inline"},[t._v(" upload")])],1)])},N=[],U=(n("b751"),{}),q=Object(a["a"])(U,M,N,!1,null,null,null),I=q.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file-view-grid-view pt-4 text-xl",class:{grid:t.files.length||t.folders.length}},[t._l(t.folders,(function(e){return n("router-link",{key:e,staticClass:"cursor-default",attrs:{title:e,to:""+t.path+e+"/",event:"dblclick"},nativeOn:{contextmenu:function(n){return n.preventDefault(),t.contextmenu(n,e+"/")}}},[n("fa-icon",{staticClass:"icon pointer-events-none",attrs:{icon:"folder"}}),n("div",{staticClass:"truncate"},[t._v(t._s(e))])],1)})),"/"==t.path?[t.$store.state.unique?n("router-link",{staticClass:"cursor-default",attrs:{to:"/account/",event:"dblclick"},nativeOn:{contextmenu:function(e){return e.preventDefault(),t.contextmenu(e,"account/")}}},[n("fa-layers",{staticClass:"icon"},[n("fa-icon",{attrs:{icon:"folder"}}),n("fa-icon",{staticClass:"text-white",attrs:{icon:"lock-open",transform:"down-1 shrink-11"}})],1),n("div",[t._v("account")])],1):n("a",{on:{dblclick:function(e){return t.$modal.login()}}},[n("fa-layers",{staticClass:"icon"},[n("fa-icon",{attrs:{icon:"folder"}}),n("fa-icon",{staticClass:"text-white",attrs:{icon:"lock",transform:"down-1 shrink-11"}})],1),n("div",[t._v("account")])],1)]:t._e(),t._l(t.files,(function(e){return n("div",{key:e.full,attrs:{title:e.full},on:{contextmenu:function(n){return n.preventDefault(),t.contextmenu(n,e.full)}}},[n("fa-layers",{staticClass:"icon"},[n("fa-icon",{attrs:{icon:"file"}}),n("fa-text",{staticClass:"text-white",attrs:{transform:"down-4 shrink-12",value:e.ext}})],1),n("div",{staticClass:"truncate"},[t._v(t._s(e.name))])],1)})),t.files.length||t.folders.length?t._e():n("div",{staticClass:"text-xl py-4"},[n("fa-layers",{staticClass:"text-6xl"},[n("fa-icon",{attrs:{icon:"folder"}}),n("fa-icon",{staticClass:"text-white",attrs:{icon:"sad-tear",transform:"down-1 shrink-10"}})],1),n("br"),t._v("\n    this folder is empty\n  ")],1)],2)},A=[],V={props:{path:String},data:function(){return{folders:[],files:[]}},watch:{path:{handler:"refresh",immediate:!0}},mounted:function(){this.$root.$on("refresh",this.refresh)},destroyed:function(){this.$root.$off("refresh",this.refresh)},methods:{refresh:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.beforeRefresh&&e&&this.beforeRefresh(),t.prev=1,t.next=4,P.getFolder(this.path);case 4:n=t.sent,this.folders=n.folders,this.files=n.files,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.$router.push("/");case 12:case"end":return t.stop()}}),t,this,[[1,9]])})));function e(e){return t.apply(this,arguments)}return e}(),contextmenu:function(t,e){t.stopPropagation(),this.$root.$emit("contextmenu",{event:t,path:this.path+e,component:this})}}},B=V,G=Object(a["a"])(B,$,D,!1,null,null,null),J=G.exports,K={extends:J},W=K,X=(n("1140"),Object(a["a"])(W,H,A,!1,null,null,null)),Y=X.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file-view-list-view text-xl"},[t.files.length||t.folders.length?n("ul",{staticClass:"w-full"},[t._l(t.folders,(function(e){return[n("li",{key:e,staticClass:"p-2 flex items-center"},[n("fa-icon",{staticClass:"text-2xl w-8 cursor-pointer text-gray-500 hover:text-black",class:{expanded:t.expanded[e]},attrs:{icon:"angle-right","fixed-width":""},on:{click:function(n){return t.toggleFolder(e)}}}),n("router-link",{staticClass:"file cursor-default",attrs:{title:e,to:""+t.path+e+"/",event:"dblclick"},nativeOn:{contextmenu:function(n){return n.preventDefault(),t.contextmenu(n,e+"/")}}},[n("fa-icon",{staticClass:"icon mr-2",attrs:{icon:t.expanded[e]?"folder-open":"folder"}}),n("div",{staticClass:"truncate"},[t._v(t._s(e))])],1)],1),t.expanded[e]?n("li",{key:e+"-expanded",staticClass:"pl-8"},[n("file-view-list",{attrs:{path:""+t.path+e+"/",nested:""}})],1):t._e()]})),"/"==t.path?[n("li",{staticClass:"p-2 flex items-center"},[n("fa-icon",{staticClass:"text-2xl w-8 cursor-pointer text-gray-500 hover:text-black",class:{expanded:t.expanded["account"]},attrs:{icon:"angle-right","fixed-width":""},on:{click:function(e){t.unique?t.toggleFolder("account"):t.$modal.login()}}}),t.unique?n("router-link",{staticClass:"file cursor-default",attrs:{to:"/account/",event:"dblclick"},nativeOn:{contextmenu:function(e){return e.preventDefault(),t.contextmenu(e,"account/")}}},[n("fa-layers",{staticClass:"icon mr-2"},[n("fa-icon",{attrs:{icon:"folder"}}),n("fa-icon",{staticClass:"text-white",attrs:{icon:"lock-open",transform:"down-1 shrink-11"}})],1),n("div",[t._v("account")])],1):n("a",{staticClass:"file",on:{click:function(e){return t.$modal.login()}}},[n("fa-layers",{staticClass:"icon mr-2"},[n("fa-icon",{attrs:{icon:"folder"}}),n("fa-icon",{staticClass:"text-white",attrs:{icon:"lock",transform:"down-1 shrink-11"}})],1),n("div",[t._v("account")])],1)],1),t.expanded["account"]?n("li",{key:"account-expanded",staticClass:"pl-8"},[t.unique?n("file-view-list",{attrs:{path:t.path+"account/",nested:""}}):t._e()],1):t._e()]:t._e(),t._l(t.files,(function(e){return n("li",{key:e.name,staticClass:"p-2 file",attrs:{title:e.full},on:{contextmenu:function(n){return n.preventDefault(),t.contextmenu(n,e.full)}}},[n("div",{staticClass:"w-8"}),n("fa-layers",{staticClass:"icon mr-2"},[n("fa-icon",{attrs:{icon:"file"}}),n("fa-text",{staticClass:"text-white",attrs:{transform:"down-4 shrink-12",value:e.ext}})],1),n("div",{staticClass:"truncate"},[t._v(t._s(e.full))])],1)}))],2):t.nested?t._e():n("div",{staticClass:"text-xl pt-8 pb-4"},[n("fa-layers",{staticClass:"text-6xl"},[n("fa-icon",{attrs:{icon:"folder"}}),n("fa-icon",{staticClass:"text-white",attrs:{icon:"sad-tear",transform:"down-1 shrink-10"}})],1),n("br"),t._v("\n    this folder is empty\n  ")],1)])},Z=[],tt=(n("8e6e"),n("456d"),n("bd86"));function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(n,!0).forEach((function(e){Object(tt["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var rt={extends:J,name:"file-view-list",components:{FileViewList:at},props:{nested:Boolean},data:function(){return{expanded:{}}},computed:nt({},Object(g["b"])(["unique"])),methods:{beforeRefresh:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.expanded={};case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),toggleFolder:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:void 0===this.expanded[e]&&this.$set(this.expanded,e,!1),this.expanded[e]=!this.expanded[e];case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},it=rt,ot=(n("7bf6"),Object(a["a"])(it,Q,Z,!1,null,null,null)),at=ot.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDropzone||t.isUploading,expression:"showDropzone || isUploading"}],staticClass:"file-dropzone",class:{hover:t.isHovering},on:{dragover:function(t){t.preventDefault()},dragenter:function(e){e.preventDefault(),t.isHovering=!0},dragleave:function(e){if(e.preventDefault(),e.target!==e.currentTarget)return null;t.isHovering=!1},drop:function(e){return e.preventDefault(),t.onDrop(e)}}},[t.showDropzone||t.isUploading?n("label",{directives:[{name:"click-out",rawName:"v-click-out",value:t.hide,expression:"hide"}],staticClass:"message m-4"},[n("input",{staticClass:"visually-hidden",attrs:{accept:t.extensions.join(","),type:"file",multiple:""},on:{change:t.onChange}}),n("div",{staticClass:"text-4xl"},[t.isUploading?[t._v("\n        Uploading files...\n      ")]:t.numDropping?[t._v("\n        Drop "+t._s(t.numDropping)+" item"+t._s(t.numDropping>1?"s":"")+" here to\n        upload\n      ")]:[t._v("\n        Drop items or\n        "),n("span",{staticClass:"text-blue-500"},[t._v("click")]),t._v("\n        to upload\n      ")]],2),t.numDropping||t.isUploading?t._e():n("button",{staticClass:"link text-2xl text-red-500",on:{click:t.hide}},[t._v("\n      cancel\n    ")])]):t._e()])},ct=[],ut=(n("aef6"),n("75fc")),lt=(n("5df3"),[".DS_Store","Thumbs.db"]);function pt(t){return new Promise((function(e){t.file((function(t){return e(t)}))}))}function ft(t){var e=t.createReader();return new Promise((function(t){e.readEntries((function(e){return t(e)}))}))}function dt(t){return ht.apply(this,arguments)}function ht(){return ht=Object(m["a"])(regeneratorRuntime.mark((function t(e){var n,r,i,o,a,s,c,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:"",r=[],!e.isFile||lt.includes(e.name)){t.next=10;break}return t.next=5,pt(e);case 5:i=t.sent,o=new File([i],n+e.name,{type:i.type}),r.push(o),t.next=20;break;case 10:if(!e.isDirectory){t.next=20;break}return n+=e.name+"/",t.next=14,ft(e);case 14:return a=t.sent,s=a.map((function(t){return dt(t,n)})),t.next=18,Promise.all(s);case 18:c=t.sent,r.push.apply(r,Object(ut["a"])(c));case 20:return t.abrupt("return",r);case 21:case"end":return t.stop()}}),t)}))),ht.apply(this,arguments)}function mt(t){return vt.apply(this,arguments)}function vt(){return vt=Object(m["a"])(regeneratorRuntime.mark((function t(e){var n,r,i,o,a,s,c,u,l,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=[],r=e.dataTransfer.items,i=!0,o=!1,a=void 0,t.prev=5,s=r[Symbol.iterator]();case 7:if(i=(c=s.next()).done){t.next=18;break}if(u=c.value,l=u.webkitGetAsEntry(),!l){t.next=15;break}return t.next=13,dt(l);case 13:p=t.sent,n.push.apply(n,Object(ut["a"])(p));case 15:i=!0,t.next=7;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](5),o=!0,a=t.t0;case 24:t.prev=24,t.prev=25,i||null==s.return||s.return();case 27:if(t.prev=27,!o){t.next=30;break}throw a;case 30:return t.finish(27);case 31:return t.finish(24);case 32:return t.abrupt("return",n.flat(1/0));case 33:case"end":return t.stop()}}),t,null,[[5,20,24,32],[25,,27,31]])}))),vt.apply(this,arguments)}var gt=[".pdb",".sdf",".cif",".ppt",".pptx",".odp",".pdf",".png",".jpg"],xt={props:{path:String},data:function(){return{extensions:gt,showDropzone:!1,isHovering:!1,isUploading:!1,numDropping:0,numEvents:0}},created:function(){document.body.addEventListener("dragenter",this.onDragEnter),document.body.addEventListener("dragleave",this.onDragLeave)},destroyed:function(){document.body.removeEventListener("dragenter",this.onDragEnter),document.body.removeEventListener("dragleave",this.onDragLeave)},methods:{onDragEnter:function(t){this.numEvents++,this.numDropping=t.dataTransfer.items.length,this.showDropzone=!0},onDragLeave:function(t){this.numEvents--,this.numEvents||(this.showDropzone=!1,this.numDropping=0)},onDrop:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isHovering=!1,t.next=3,mt(e);case 3:return n=t.sent,t.next=6,this.upload(n);case 6:this.numDropping=0;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onChange:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.target.files,t.next=3,this.upload(n);case 3:e.target.value=null,this.numDropping=0;case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),upload:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){var n,r,i,o,a,s,c,u,l,p,f=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(this.isUploading=!0,n=[],r=[],i=!0,o=!1,a=void 0,t.prev=6,s=function(){var t=u.value,e=f.extensions.some((function(e){return t.name.toLowerCase().endsWith(e)}));e?r.push(t):n.push(t)},c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)s();t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](6),o=!0,a=t.t0;case 15:t.prev=15,t.prev=16,i||null==c.return||c.return();case 18:if(t.prev=18,!o){t.next=21;break}throw a;case 21:return t.finish(18);case 22:return t.finish(15);case 23:if(!r.length){t.next=29;break}return l="/"===this.path?"/shared/":this.path,t.next=27,P.upload(l,r);case 27:this.$emit("upload"),l!==this.path&&this.$router.push(l);case 29:this.isUploading=!1,this.showDropzone=!1,r.length?n.length&&(p=n.map((function(t){return t.name})).join("<br>"),this.$modal.alert({title:"Files Skipped",body:"".concat(n.length," unsupported files skipped:<br>").concat(p)})):this.$modal.alert({title:"Skipping Upload",body:"No supported files found.<br>Skipping upload."});case 32:case"end":return t.stop()}}),t,this,[[6,11,15,23],[16,,18,22]])})));function e(e){return t.apply(this,arguments)}return e}(),show:function(){this.showDropzone=!0},hide:function(){this.showDropzone=!1}}},bt=xt,wt=(n("1e7f"),Object(a["a"])(bt,st,ct,!1,null,null,null)),yt=wt.exports,kt={components:{Breadcrumbs:z,Toolbar:I,FileViewGrid:Y,FileViewList:at,FileDropzone:yt},data:function(){return{contextmenu:{show:!1,component:null,path:"",top:0,left:0},displayMode:"grid"}},computed:{path:function(){return this.$route.path}},mounted:function(){this.$root.$on("contextmenu",this.showContextMenu)},destroyed:function(){this.$root.$off("contextmenu",this.showContextMenu)},methods:{refresh:function(){this.$root.$emit("refresh")},showDropzone:function(){this.$refs.dropzone.show()},newFolder:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.hideContextMenu(),e=e||this.path,"/"===e&&(e="/shared/"),t.next=5,this.$modal.prompt({title:"New Folder",body:"Creating folder in ".concat(e,"<br>Please provide a name:"),default:"new folder"});case 5:if(n=t.sent,!n){t.next=15;break}return t.next=9,P.create(e+n);case 9:if(r=t.sent,i=r.success,i){t.next=14;break}return this.$modal.alert({title:"Name Already Exists",body:"Please select a different name"}),t.abrupt("return");case 14:e!==this.path?this.$router.push(e):this.refresh();case 15:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteItem:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.hideContextMenu(),e=this.contextmenu.path,t.next=4,this.$modal.confirm({title:"Delete Item",body:"Are you sure you want to delete ".concat(e,"?"),okClass:"danger",okTitle:"delete",cancelClass:""});case 4:if(n=t.sent,!n){t.next=9;break}return t.next=8,P.delete(e);case 8:this.contextmenu.component?this.contextmenu.component.refresh():this.refresh();case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),download:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=document.createElement("a"),n.href="/files"+e,n.download=e.substring(e.lastIndexOf("/")+1),n.click();case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),showContextMenu:function(t){var e=t.event,n=t.path,r=t.component;this.contextmenu.show=!0,this.contextmenu.path=n,this.contextmenu.component=r,this.contextmenu.top=e.pageY+1+"px",this.contextmenu.left=e.pageX+1+"px";var i=r&&!["/shared/","/account/"].includes(n);this.contextmenu.deletable=i,this.contextmenu.isFolder="/"===this.contextmenu.path.slice(-1)},hideContextMenu:function(){this.contextmenu.show=!1}}},Ct=kt,_t=(n("0117"),Object(a["a"])(Ct,d,h,!1,null,null,null)),Ot=_t.exports,jt={components:{FileExplorer:Ot},data:function(){return{extensions:gt}}},$t=jt,Dt=(n("21bb"),Object(a["a"])($t,p,f,!1,null,null,null)),Et=Dt.exports;r["a"].use(l["a"]);var Pt=new l["a"]({mode:"history",base:"/",routes:[{path:"/*",name:"home",component:Et}]});Pt.beforeEach((function(t,e,n){var r=t.path.replace(/\/\/+/g,"/");"/"!==r.slice(-1)&&(r+="/"),r!==t.path&&n({path:r,replace:!0}),n()}));var Rt=Pt,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showing?n("div",{staticClass:"modal",on:{click:function(e){return e.target!==e.currentTarget?null:t.cancel(e)}}},[n("div",{staticClass:"modal-body"},[n("div",{staticClass:"p-4"},[t.options.title?n("h2",[t._v(t._s(t.options.title))]):t._e(),t.options.body?n("p",{domProps:{innerHTML:t._s(t.options.body)}}):t._e(),n("div",{staticClass:"mt-2"},["prompt"===t.options.type?[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input1,expression:"input1"}],ref:"prompt",attrs:{type:"text"},domProps:{value:t.input1},on:{input:function(e){e.target.composing||(t.input1=e.target.value)}}})]:"login"===t.options.type?[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input1,expression:"input1"}],ref:"login",class:{"border-red-500":t.error},attrs:{placeholder:"username",type:"text"},domProps:{value:t.input1},on:{input:function(e){e.target.composing||(t.input1=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input2,expression:"input2"}],class:{"border-red-500":t.error},attrs:{placeholder:"password",type:"password"},domProps:{value:t.input2},on:{input:function(e){e.target.composing||(t.input2=e.target.value)}}}),t.error?n("p",{staticClass:"text-red-500"},[t._v("\n            incorrect login or password\n          ")]):t._e(),t._m(0)]:t._e()],2)]),n("div",{staticClass:"modal-actions"},["alert"!==t.options.type?n("button",{staticClass:"btn",class:t.options.cancelClass,on:{click:t.cancel}},[t._v("\n        "+t._s(t.options.cancelTitle)+"\n      ")]):t._e(),n("button",{staticClass:"btn",class:t.options.okClass,attrs:{disabled:t.loading},on:{click:t.ok}},[t._v("\n        "+t._s(t.options.okTitle)+"\n      ")])])])]):t._e()},Tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("a",{staticClass:"link text-blue-500",attrs:{href:"https://home.nanome.ai/login/forgot",target:"_blank"}},[t._v("\n              forgot password?\n            ")])])}];function Lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lt(n,!0).forEach((function(e){Object(tt["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var zt={type:"confirm",title:"",body:"",default:"",okTitle:"ok",okClass:"",cancelTitle:"cancel",cancelClass:"danger"},Mt=function(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n},Nt={data:function(){return{showing:!1,error:!1,loading:!1,options:{type:"login",title:"title",body:"body",default:"",okTitle:"ok",okClass:"",cancelTitle:"cancel",cancelClass:"danger"},input1:"",input2:"",deferred:Mt()}},mounted:function(){document.body.addEventListener("keydown",this.onKeydown)},destroyed:function(){document.body.removeEventListener("keydown",this.onKeydown)},methods:{onKeydown:function(t){this.showing&&("Enter"===t.key?this.ok():"Escape"===t.key&&this.cancel())},show:function(t){var e=this;return Object.assign(this.options,zt,t),this.showing=!0,"prompt"===this.options.type?(this.input1=this.options.default,this.$nextTick((function(){var t=e.$refs.prompt;t.focus(),t.setSelectionRange(0,t.value.length)}))):"login"===this.options.type&&this.$nextTick((function(){return e.$refs.login.focus()})),this.deferred=Mt(),this.deferred},alert:function(t){return this.show(Ft({type:"alert"},t))},confirm:function(t){return this.show(Ft({type:"confirm"},t))},prompt:function(t){return this.show(Ft({type:"prompt"},t))},login:function(t){return this.show(Ft({type:"login",title:"Log in to Nanome",body:"Log in using your Nanome account",okTitle:"log in",okClass:"primary",cancelClass:""},t))},reset:function(){this.showing=!1,this.input1="",this.input2="",this.deferred=null},cancel:function(){"confirm"===this.options.type?this.deferred.resolve(!1):this.deferred.resolve(void 0),this.reset()},ok:function(){var t;if("confirm"===this.options.type)t=!0;else if("prompt"===this.options.type)t=this.input1;else if("login"===this.options.type)return void this.attemptLogin();this.deferred.resolve(t),this.reset()},attemptLogin:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.error=!1,this.loading=!0,e={username:this.input1,password:this.input2},t.next=5,this.$store.dispatch("login",e);case 5:n=t.sent,this.loading=!1,n?(this.deferred.resolve(!0),this.reset()):this.error=!0;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},Ut=Nt,qt=(n("30db"),Object(a["a"])(Ut,St,Tt,!1,null,null,null)),It=qt.exports,Ht=n("ecee"),At=n("c074"),Vt=n("ad3d");r["a"].config.productionTip=!1,Ht["c"].add(At["a"]),r["a"].component("fa-icon",Vt["a"]),r["a"].component("fa-layers",Vt["b"]),r["a"].component("fa-text",Vt["c"]),r["a"].directive("click-out",{bind:function(t,e,n){e.stop=function(t){return t.stopPropagation()},e.event=function(){return n.context[e.expression]()},setTimeout((function(){document.body.addEventListener("click",e.event),t.addEventListener("click",e.stop)}),0)},unbind:function(t,e){document.body.removeEventListener("click",e.event),t.removeEventListener("click",e.stop)}}),C.dispatch("refresh");var Bt=new r["a"]({router:Rt,store:C,render:function(t){return t(u)}}).$mount("#app"),Gt=r["a"].extend(It),Jt=new Gt({store:C});Jt.$mount(),r["a"].prototype.$modal=Jt,Bt.$root.$el.appendChild(Jt.$el)},"5c0b":function(t,e,n){"use strict";var r=n("e332"),i=n.n(r);i.a},"7a98":function(t,e,n){},"7bf6":function(t,e,n){"use strict";var r=n("5258"),i=n.n(r);i.a},"7fe2":function(t,e,n){},"812f":function(t,e,n){},af21:function(t,e,n){},b751:function(t,e,n){"use strict";var r=n("7fe2"),i=n.n(r);i.a},caf9:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.b8308220.png"},def6:function(t,e,n){},e332:function(t,e,n){},e7ab:function(t,e,n){"use strict";var r=n("af21"),i=n.n(r);i.a},fe45:function(t,e,n){}});
//# sourceMappingURL=app.35b51145.js.map